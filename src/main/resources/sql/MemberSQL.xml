<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
 		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MemberDao">

		<!-- 로그인 -->
	<select id="Login" parameterType="Member" resultType="int">
	<![CDATA[
		SELECT 
				COUNT(1) 
		FROM 
				MEMBER 
		WHERE 
				ID = #{id}
				AND 
				PASSWORD = #{password}
				]]>
	</select>
	
	<insert id="memberphoto" parameterType="Member">
	<![CDATA[
		INSERT INTO
			MEMBER_PHOTO_FILE
					(	CHANGE_DATE
						,CHANGE_YN
						,MEMBER_SEQ	)
				VALUE
					(
						#{CHANGE_DATE}
						,#{CHANGE_YN}
						,#{MEMBER_SEQ}	)
		]]>
	</insert>
	
	<insert id="memberjoin" parameterType="Member" >
		<![CDATA[
		INSERT INTO    
				 MEMBER   
						(	ID       
						   ,PASSWORD       
						   ,USER_NAME       
						   ,NICK_NAME       
						   ,ACCESS_COUNT       
						   ,LEVEL       
						   ,POINT     
						   ,INSERT_DATE  
						   ,LAST_UPDATE_DATE       
						   ,EMAIL       
						   ,MEMBER_STATUS       
						   ,PHONE_NUM       
						   ,ADDRESS       
						   ,BIRTH       
						   ,SEX       
						   ,FILEUPLOAD       
						   ,LIVE_NATIONALITY     
						   ,CITY       
						   ,JOB       
						   ,RELIGION       
						   ,INTRODUCTION  	)   
				VALUES      
						(   #{id}       
						   ,#{password}       
						   ,#{user_name}       
						   ,#{nick_name}      
						   ,#{access_count}       
						   ,#{level}     
						   ,#{point}       
						   ,NOW()     
						   ,NOW()
						   ,#{email}       
						   ,#{member_status}
						   ,#{phone_num}     
						   ,#{address}
						   ,#{birth}
						   ,#{sex}  
						   ,#{fileupload}       
						   ,#{live_nationality}
						   ,#{city}   
						   ,#{job}     
						   ,#{religion}      
						   ,#{introduction}  )
		]]>
	</insert>
</mapper>